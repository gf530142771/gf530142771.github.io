# 骰子活动扩展(换皮)

## 特别注意
**因为是在老代码的上进行的修改，耦合较高，动作过分依赖某些节点。此活动扩展性不是很高**  
**扩展时，新增代码，不要动旧代码。防止原来的活动出现问题，通过skin值来决定使用旧代码还是新代码** 

注意事项：  

1. 资源名称尽量保持一致。包括图片，spine动画，音效等避免不必要修改。
2. 某一个类修改过大时，不要在原来代码上修改，避免影以前代码，需要新建子类进行扩展。
3. 所有节点的数量和名称尽量保持一致，尽量不要删除节点。


## 1.入口按钮 
文件: HomePlayLayer.js

方法: initShellActivity

说明: 入口按钮的绘制 

代码位置:DiceShellActivityBtn.js

修改方法:   
根据皮肤新增相关绘制方法即可，仿照**createSummerBtn**即可

## 2.游戏场景卡牌上的收集物

### 收集物数量的计算
文件: GameController.js  

方法: initDiceShell

说明: 管理牌上是否出现活动道具  计算本关可以出现几个道具。


### 收集物的显示  
文件: CardEntity.js

方法: initActiveSkillDiceShell  

说明: 在牌上显示收集物

配置文件: DiceShellCardConfig.js

### 游戏界面收集图标显示
文件: HeadBar.js    

方法: initDiceShell  

配置文件: DiceShellPlayLayerConfig.js

## 3.结算界面   

### 结算界面道具收集

文件: ResultNode.js

位置: if (this._gameData["shell_num"] !== undefined && shell_node) {

配置文件: DiceShellResultNode.js

修改方法:   
根据皮肤新增相关绘制方法即可，仿照**createSummerResultNode**即可。


## 4.活动游戏界面。

### 弹窗界面
1. 奖励展示界面 DiceReceiveRewardLayer.js
2. 骰子购买界面 DiceShellBuyDiceLayer.js
3. 活动结束界面 DiceShellEndLayer.js
4. 引导界面 DiceExplainLayer.js  

以上界面替换**cocoscreator**导出资源即可。

### 动作类  
查看文件夹**activity/diceShell/animation**的类

### UI类  
查看文件夹**activity/diceShell/ui**的类

**看代码，解决一切疑惑，不懂你找我**

## 5.数据管理类
DiceShellDataMgr.js

